<!DOCTYPE html>
<html lang=""><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rick Cogley</title>

    <meta name="supported-color-schemes" content="light dark">
    <meta name="theme-color" content="hsl(220, 20%, 100%)" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="hsl(220, 20%, 10%)" media="(prefers-color-scheme: dark)">

    <link rel="stylesheet" href="/rickcogley/styles.css?cb=1772238464797">
    <link rel="icon" type="image/png" sizes="32x32" href="/rickcogley/favicon.png">
    <link rel="canonical" href="https://rickcogley.github.io/rickcogley/">

    
  <meta property="og:type" content="website">
<meta property="og:site_name" content="Rick Cogley's Github Profile Site">
<meta property="og:locale" content="en">
<meta property="og:title" content="Rick Cogley">
<meta property="og:description" content="Make a dynamic Github profile with Lume SSG!">
<meta property="og:url" content="https://rickcogley.github.io/rickcogley/">
<meta property="og:image" content="https://rickcogley.github.io/rickcogley/avatar.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="fediverse:creator" content="@cogley.jp">
<meta name="description" content="Make a dynamic Github profile with Lume SSG!">
<meta name="keywords" content="Rick Cogley, GitHub Profile, Deno, Lume, Vento, GitHub Actions, Japan">
<meta name="generator" content="Lume v2.5.0">
<meta name="bluesky" content="@cogley.jp">
<link rel="icon" sizes="48x48" href="/rickcogley/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/rickcogley/apple-touch-icon.png">
<link rel="icon" sizes="any" href="/rickcogley/favicon.svg" type="image/svg+xml">
</head>
  <body>
    <main>
      <header class="header">
        <script>
          let theme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light");
          document.documentElement.dataset.theme = theme;
          function changeTheme() {
            theme = theme === "dark" ? "light" : "dark";
            localStorage.setItem("theme", theme);
            document.documentElement.dataset.theme = theme;
          }
        </script>
        <button class="button header-theme" onclick="changeTheme()">
          <span class="icon">‚óê</span>
        </button>

        <img class="header-avatar" src="/rickcogley/avatar.jpg" alt="Avatar" transform-images="webp avif 200@2">
        <h1 class="header-title">Rick Cogley</h1>
        <p>Make a dynamic Github profile with Lume SSG!</p>
      </header>
      <article>
      <h2>Github's Special Profile Repos</h2>
<p>Github has a special feature where, the <code>README.md</code> from a repository with the
same name as your Github username is displayed on your Github profile. My Github
handle and profile is <a href="https://github.com/rickcogley">@rickcogley</a>, and you're
looking at a page served via Github Pages from that very repository. In my case,
it's <a href="https://github.com/rickcogley/rickcogley">rickcogley / rickcogley</a>.</p>
<p><img src="/rickcogley/figure1.png" alt="What readme?"></p>
<h2>The Concept</h2>
<p>I use the static site generator
¬´<a href="https://lume.land/">Lume „É´„É°</a>¬ª and its companion
<a href="https://vento.js.org/">Vento</a> templates, both coded by
<a href="https://oscarotero.com/">√ìscar Otero</a>, to generate my profile README from live
data. A Vento template produces a markdown file, which Lume copies to the repo
root as <code>README.md</code>. Github Actions rebuilds it daily.</p>
<p>The data comes from JSON APIs ‚Äî in my case, a personal API I built called
<a href="https://github.com/rickcogley/pub-cogley">pub-cogley</a>. But <strong>you can use any
public JSON endpoint</strong>: your blog's API, a CMS, a weather service, a quote API,
whatever you want. The pattern is the same.</p>
<h2>How It Works</h2>
<p>There are three pieces:</p>
<ol>
<li><strong><code>src/_data.ts</code></strong> ‚Äî fetches data from APIs and exports it for templates</li>
<li><strong><code>src/repo-readme.vto</code></strong> ‚Äî a Vento template that generates markdown</li>
<li><strong><code>.github/workflows/update-profile-readme.yml</code></strong> ‚Äî a GitHub Action that
rebuilds daily</li>
</ol>
<h3>1. Fetching Data</h3>
<p>The <code>_data.ts</code> file runs at build time and exports variables that your template
can use. Here's the core pattern ‚Äî a generic JSON fetcher with a fallback so the
build never breaks:</p>
<pre class="language-ts" tabindex="0"><code class="language-ts">const API_BASE = "https://your-api.example.com/api";

async function fetchJSON&lt;T&gt;(path: string, fallback: T): Promise&lt;T&gt; {
  try {
    const response = await fetch(`${API_BASE}${path}`, {
      headers: { "Accept": "application/json" },
    });
    if (!response.ok) return fallback;
    return await response.json() as T;
  } catch {
    return fallback;
  }
}
</code></pre>
<p>Then you export whatever data you need:</p>
<pre class="language-ts" tabindex="0"><code class="language-ts">// Your latest posts, stats, status ‚Äî whatever your API serves
export const posts = await fetchJSON("/posts?limit=5", { posts: [] });
export const stats = await fetchJSON("/stats", { posts: 0, articles: 0 });
export const presence = await fetchJSON("/presence", { status: { label: "" } });
</code></pre>
<p>You can also compute derived values. For example, I pick a daily random quote:</p>
<pre class="language-ts" tabindex="0"><code class="language-ts">const dayOfYear = Math.floor(
  (Date.now() - new Date(new Date().getFullYear(), 0, 0).getTime()) / 86400000,
);
export const randomQuote = quotes.quotes.length &gt; 0
  ? quotes.quotes[dayOfYear % quotes.quotes.length]
  : { text: "", source: "" };
</code></pre>
<p>Any exported variable from <code>_data.ts</code> is available in your Vento templates
automatically ‚Äî that's how Lume's
<a href="https://lume.land/docs/creating-pages/shared-data/">shared data</a> works.</p>
<h3>2. The Template</h3>
<p>The <code>repo-readme.vto</code> template writes markdown using those variables. The
frontmatter sets <code>url: /repo-readme.md</code> which tells Lume to output a markdown
file instead of HTML:</p>
<pre class="language-none" tabindex="0"><code class="language-none">---
url: /repo-readme.md
---
### Hi there üëã

{{ if randomQuote.text }}
&gt; _"{{ randomQuote.text }}"_ ‚Äî {{ randomQuote.source }}
{{ /if }}
</code></pre>
<p>For loops and conditionals work naturally:</p>
<pre class="language-none" tabindex="0"><code class="language-none">### Latest Posts

{{ for item of posts.posts }}
- [{{ item.title }}]({{ item.url }})
{{ /for }}
</code></pre>
<p>One thing to watch: Vento's auto_trim plugin strips whitespace around block tags
(<code>if</code>, <code>for</code>, <code>set</code>). If your markdown list items or sections collapse together,
pre-build the content into an array with <code>{{ set }}</code>, then loop over plain
strings:</p>
<pre class="language-none" tabindex="0"><code class="language-none">{{ set items = [] }}
{{ for item of posts.posts }}
{{ set items = items.concat("- " + item.title) }}
{{ /for }}
{{ for line of items }}
{{ line }}
{{ /for }}
</code></pre>
<p>You can also include <a href="https://mermaid.js.org/">mermaid</a> diagrams ‚Äî Github
renders them natively in markdown:</p>
<pre class="language-none" tabindex="0"><code class="language-none">```mermaid
graph LR
    A[Your API] --&gt; B[Lume Build]
    B --&gt; C[README.md]
    C --&gt; D[GitHub Profile]
```
</code></pre>
<h3>3. Build &amp; Copy</h3>
<p>In <code>_config.ts</code>, a post-build script copies the generated readme to the repo
root:</p>
<pre class="language-ts" tabindex="0"><code class="language-ts">site.script("copyreadme", "cd _site &amp;&amp; cp repo-readme.md ../README.md");
site.addEventListener("afterBuild", "copyreadme");
</code></pre>
<p>If you have data that needs fetching via a shell command (e.g. a curl to a
protected API), you can add a pre-build script too:</p>
<pre class="language-ts" tabindex="0"><code class="language-ts">site.script("getdata", "curl https://api.example.com/data -o src/_data/data.json");
site.addEventListener("beforeBuild", "getdata");
</code></pre>
<h2>Automate with GitHub Actions</h2>
<p>The GitHub Actions workflow rebuilds the site on push, manual trigger, or a cron
schedule:</p>
<pre class="language-yaml" tabindex="0"><code class="language-yaml">on:
  push:
    branches: [main]
  workflow_dispatch:
  schedule:
    - cron: "30 16 * * *"  # daily at 16:30 UTC
</code></pre>
<p>The workflow installs Deno, runs <code>deno task build</code>, then auto-commits any
changes. The key steps:</p>
<pre class="language-yaml" tabindex="0"><code class="language-yaml">- uses: denoland/setup-deno@v2
  with:
    deno-version: v2.x

- run: deno task build

- uses: stefanzweifel/git-auto-commit-action@v5
  with:
    commit_message: Apply changes during gh actions build
</code></pre>
<p>If your API requires authentication, store the token as a repository secret and
pass it as an environment variable:</p>
<pre class="language-yaml" tabindex="0"><code class="language-yaml">- run: deno task build
  env:
    API_KEY: ${{ secrets.MY_API_KEY }}
</code></pre>
<h2>Get Your Own</h2>
<ol>
<li>Go to my <a href="https://github.com/rickcogley/rickcogley">profile repo</a> and click
<strong>"Use this template"</strong> to make your own copy. Name the repo as your GitHub
username.</li>
<li>Edit <code>src/_data.ts</code> ‚Äî point <code>fetchJSON</code> at your own API or any public JSON
endpoint.</li>
<li>Edit <code>src/repo-readme.vto</code> ‚Äî design your README layout in markdown with Vento
template tags.</li>
<li>Push. The GitHub Action will build and commit your <code>README.md</code>.</li>
<li>Optionally, set <code>url: false</code> in <code>src/index.md</code> if you don't want the
explanation site on GitHub Pages.</li>
</ol>
<p>To test locally: install <a href="https://deno.land">Deno</a>, clone your repo, and run
<code>deno task serve</code> to preview at <code>http://localhost:3000</code>.</p>
<p>You can see a simpler version without any website creation tooling in my
<a href="https://github.com/eSolia/.github">org eSolia's profile repo</a>.</p>

      </article>
        <ul class="icon-list">

            <li>
              <a href="https://lume.land" class="button" style="--bg-color:#EB844E; --text-color:black" title="Lume">
                <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Fireship</title><path d="M9.245.05c-.042-.035-.14-.035-.22-.05-.041.06-.098.113-.113.166a3.114 3.114 0 0 0-.064.416 15.42 15.42 0 0 1-3.742 8.693c-1.258 1.474-2.51 2.982-3.44 4.585-2.293 3.972-.249 8.031 4.763 9.804.163.06.348.087.76.181-1.701-1.534-2.57-3.1-2.28-4.944.284-1.765 1.172-3.337 2.525-4.77a1.043 1.043 0 0 1 .099.549c-.068 1.572.453 2.96 2.063 4.055.741.507 1.41 1.081 2.079 1.644.684.57.884 1.263.688 2.015-.09.366-.227.725-.378 1.171 1.145-.11 2.203-.264 2.914-.9.68-.604 1.183-1.322 1.909-2.154.049.707.15 1.255.113 1.8-.045.566-.22 1.126-.336 1.689 3.477-.525 6.546-3.934 6.682-7.427.098-2.543-2.071-6.274-3.893-6.637l.302.688c.631 1.391.817 2.8.416 4.256-.4 1.448-2.426 3.073-4.214 3.277.06-.144.087-.28.17-.39 1.927-2.596 1.946-5.31.854-8.084C15.44 5.98 12.632 2.88 9.245.053Z"></path></svg>
              </a>
            </li>

            <li>
              <a href="https://vento.js.org/" class="button" style="--bg-color:#F7DF1E; --text-color:black" title="Vento">
                <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>
              </a>
            </li>

            <li>
              <a href="https://github.com/rickcogley/rickcogley" class="button" style="--bg-color:#181717; --text-color:white" title="Template Github (Rick's Profile)">
                <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
              </a>
            </li>

            <li>
              <a href="https://github.com/lumeland" class="button" style="--bg-color:#181717; --text-color:white" title="Lume Github">
                <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
              </a>
            </li>
        </ul>

      <ul class="link-list">
      </ul>
    </main>
      <footer>
        <p>Powered by <a href="https://lume.land">Lume</a> &amp; <a href="https://github.com/lumeland/theme-simple-me">SimpleMe</a> theme</p>
        <p class="header-description">
          <small>
          Updated February 28th, 2026 at 9:18:47 AM GMT+9<br>
          Lume v2.5.0, Deno 2.7.1, Typescript 5.9.2, V8 14.5.201.2-rusty  <br>
          </small>
        </p>
      </footer>
  

</body></html>